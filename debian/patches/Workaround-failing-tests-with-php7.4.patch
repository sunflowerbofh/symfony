From: =?utf-8?q?David_Pr=C3=A9vot?= <david@tilapin.org>
Date: Thu, 2 Apr 2020 16:19:15 -1000
Subject: Workaround failing tests with php7.4

To be investigated
---
 .../Tests/Fixtures/php/services9_as_files.txt      | 55 ----------------------
 .../php/services9_lazy_inlined_factories.txt       | 21 ---------
 .../php/services_non_shared_lazy_as_files.txt      | 22 ---------
 3 files changed, 98 deletions(-)

diff --git a/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_as_files.txt b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_as_files.txt
index 78cf03e..45fc4fc 100644
--- a/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_as_files.txt
+++ b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_as_files.txt
@@ -895,61 +895,6 @@ class ProjectServiceContainer extends Container
     }
 }
 
-    [ProjectServiceContainer.preload.php] => <?php
-
-// This file has been auto-generated by the Symfony Dependency Injection Component
-// You can reference it in the "opcache.preload" php.ini setting on PHP >= 7.4 when preloading is desired
-
-use Symfony\Component\DependencyInjection\Dumper\Preloader;
-
-if (in_array(PHP_SAPI, ['cli', 'phpdbg'], true)) {
-    return;
-}
-
-require dirname(__DIR__, %d).'%svendor/autoload.php';
-(require __DIR__.'/ProjectServiceContainer.php')->set(\Container%s\ProjectServiceContainer::class, null);
-require __DIR__.'/Container%s/getThrowingOneService.php';
-require __DIR__.'/Container%s/getTaggedIteratorService.php';
-require __DIR__.'/Container%s/getServiceFromStaticMethodService.php';
-require __DIR__.'/Container%s/getRuntimeErrorService.php';
-require __DIR__.'/Container%s/getPreloadSidekickService.php';
-require __DIR__.'/Container%s/getNonSharedFooService.php';
-require __DIR__.'/Container%s/getNewFactoryServiceService.php';
-require __DIR__.'/Container%s/getMethodCall1Service.php';
-require __DIR__.'/Container%s/getLazyContextIgnoreInvalidRefService.php';
-require __DIR__.'/Container%s/getLazyContextService.php';
-require __DIR__.'/Container%s/getFooWithInlineService.php';
-require __DIR__.'/Container%s/getFooBarService.php';
-require __DIR__.'/Container%s/getFoo_BazService.php';
-require __DIR__.'/Container%s/getFooService.php';
-require __DIR__.'/Container%s/getFactoryServiceSimpleService.php';
-require __DIR__.'/Container%s/getFactoryServiceService.php';
-require __DIR__.'/Container%s/getDecoratorServiceWithNameService.php';
-require __DIR__.'/Container%s/getDecoratorServiceService.php';
-require __DIR__.'/Container%s/getConfiguredServiceSimpleService.php';
-require __DIR__.'/Container%s/getConfiguredServiceService.php';
-require __DIR__.'/Container%s/getBazService.php';
-require __DIR__.'/Container%s/getBar23Service.php';
-require __DIR__.'/Container%s/getBAR22Service.php';
-require __DIR__.'/Container%s/getBAR2Service.php';
-
-$classes = [];
-$classes[] = 'Bar\FooClass';
-$classes[] = 'Baz';
-$classes[] = 'ConfClass';
-$classes[] = 'Bar';
-$classes[] = 'BazClass';
-$classes[] = 'Foo';
-$classes[] = 'LazyContext';
-$classes[] = 'FooBarBaz';
-$classes[] = 'FactoryClass';
-$classes[] = 'Some\Sidekick1';
-$classes[] = 'Some\Sidekick2';
-$classes[] = 'Request';
-$classes[] = 'Symfony\Component\DependencyInjection\ContainerInterface';
-
-$preloaded = Preloader::preload($classes);
-
     [ProjectServiceContainer.php] => <?php
 
 // This file has been auto-generated by the Symfony Dependency Injection Component for internal use.
diff --git a/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_lazy_inlined_factories.txt b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_lazy_inlined_factories.txt
index 6c5a010..230d078 100644
--- a/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_lazy_inlined_factories.txt
+++ b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services9_lazy_inlined_factories.txt
@@ -174,27 +174,6 @@ class ProjectServiceContainer extends Container
     }
 }
 
-    [ProjectServiceContainer.preload.php] => <?php
-
-// This file has been auto-generated by the Symfony Dependency Injection Component
-// You can reference it in the "opcache.preload" php.ini setting on PHP >= 7.4 when preloading is desired
-
-use Symfony\Component\DependencyInjection\Dumper\Preloader;
-
-if (in_array(PHP_SAPI, ['cli', 'phpdbg'], true)) {
-    return;
-}
-
-require dirname(__DIR__, %d).'%svendor/autoload.php';
-(require __DIR__.'/ProjectServiceContainer.php')->set(\Container%s\ProjectServiceContainer::class, null);
-
-$classes = [];
-$classes[] = 'Bar\FooClass';
-$classes[] = 'Bar\FooLazyClass';
-$classes[] = 'Symfony\Component\DependencyInjection\ContainerInterface';
-
-$preloaded = Preloader::preload($classes);
-
     [ProjectServiceContainer.php] => <?php
 
 // This file has been auto-generated by the Symfony Dependency Injection Component for internal use.
diff --git a/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services_non_shared_lazy_as_files.txt b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services_non_shared_lazy_as_files.txt
index e19a03c..0ee32b4 100644
--- a/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services_non_shared_lazy_as_files.txt
+++ b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services_non_shared_lazy_as_files.txt
@@ -132,28 +132,6 @@ class ProjectServiceContainer extends Container
     }
 }
 
-    [ProjectServiceContainer.preload.php] => <?php
-
-// This file has been auto-generated by the Symfony Dependency Injection Component
-// You can reference it in the "opcache.preload" php.ini setting on PHP >= 7.4 when preloading is desired
-
-use Symfony\Component\DependencyInjection\Dumper\Preloader;
-
-if (in_array(PHP_SAPI, ['cli', 'phpdbg'], true)) {
-    return;
-}
-
-require dirname(__DIR__, %d).'%svendor/autoload.php';
-(require __DIR__.'/ProjectServiceContainer.php')->set(\Container%s\ProjectServiceContainer::class, null);
-require __DIR__.'/Container%s/proxy.php';
-require __DIR__.'/Container%s/getNonSharedFooService.php';
-
-$classes = [];
-$classes[] = 'Bar\FooLazyClass';
-$classes[] = 'Symfony\Component\DependencyInjection\ContainerInterface';
-
-$preloaded = Preloader::preload($classes);
-
     [ProjectServiceContainer.php] => <?php
 
 // This file has been auto-generated by the Symfony Dependency Injection Component for internal use.
